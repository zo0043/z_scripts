# Linux.do 文章助手开发计划

## 项目概述

开发一个油泼猴脚本，自动获取 Linux.do 网站的最新文章列表，根据用户设置的关键词自动匹配并打开相关文章。支持配置界面、并发控制、滚动控制等功能。

## 技术方案

采用**混合方案**，优先使用 Discourse API 获取数据，API 不可用时降级到 DOM 解析。

## 执行步骤

### ✅ 步骤1：环境准备和基础架构
- 创建油泼猴脚本基础框架
- 设置必要的元数据权限 (GM_* API)
- 初始化全局变量和配置存储
- **状态**: 已完成

### ✅ 步骤2：数据获取模块开发
- 实现Discourse API调用逻辑
- 解析JSON响应数据结构
- 开发DOM解析备选方案
- 实现数据获取失败降级机制
- **状态**: 已完成

### ✅ 步骤3：关键词匹配引擎
- 实现多关键词匹配算法
- 支持精确匹配和模糊匹配
- 优化匹配性能和准确度
- **状态**: 已完成

### ✅ 步骤4：配置管理模块
- 设计配置数据结构
- 实现GM_setValue/GM_getValue存储
- 创建配置验证和默认值机制
- **状态**: 已完成

### ✅ 步骤5：UI控制面板开发
- 设计浮窗控制界面布局
- 实现关键词配置界面
- 添加并发数设置控制
- 创建操作按钮和状态显示
- **状态**: 已完成

### ✅ 步骤6：标签页管理模块
- 实现GM_openInTab调用
- 开发并发控制逻辑
- 添加标签页状态跟踪
- **状态**: 已完成

### ✅ 步骤7：滚动控制模块
- 实现页面自动滚动功能
- 添加滚动速度和位置控制
- 集成关键词实时匹配
- **状态**: 已完成

### 🔄 步骤8：集成测试和优化
- 整合所有功能模块
- 进行完整功能测试
- 性能优化和错误处理
- 用户体验细节调整
- **状态**: 进行中

## 核心功能

1. **数据获取**: API优先，DOM解析备选
2. **关键词匹配**: 支持包含匹配和精确匹配
3. **配置管理**: 持久化存储用户设置
4. **UI界面**: 可拖拽浮窗控制面板
5. **标签页管理**: 并发控制和批量打开
6. **滚动控制**: 自动滚动和实时匹配
7. **状态监控**: 实时显示运行状态

## 技术要点

- 使用油泼猴 GM_* API 进行跨域请求和数据存储
- MutationObserver 监听页面变化
- 模块化设计，便于维护和扩展
- 完善的错误处理和用户反馈机制

## 文件结构

```
linux-do-article-helper.user.js  # 主脚本文件
.claude/plan/Linux-do文章助手.md # 本计划文档
```

## 使用说明

1. 安装油泼猴浏览器扩展
2. 导入脚本文件
3. 访问 https://linux.do/latest
4. 点击右上角企鹅图标打开控制面板
5. 配置关键词和参数
6. 使用按钮控制功能

## 开发状态

- ✅ 核心功能开发完成
- ✅ 模块化架构实现
- ✅ 用户界面完成
- 🔄 测试和优化进行中